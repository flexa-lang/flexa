// Test valid class declarations and member access

class ClsTest {

  public {
    var test = 10;

    fun get_aaa() {
      return this.aaa;
    }
  }

  protected {
    var aaa;
  }

  private {
    const y = 10.0;
  }

  static public {
    var instanceCount = 0;
    const VERSION = "1.0";
  }

  init(a) {
    this.aaa = a;
    ClsTest.instanceCount = ClsTest.instanceCount + 1;
  }
}

fun main() {
    var test = ClsTest(10);
    print(test.get_aaa());
    print(ClsTest.instanceCount);
    print(ClsTest.VERSION);

    // Test default scopes
    class DefaultScope {
        var x; // instance, private
        fun foo() {} // instance, private
    }

    // Test static members
    class Config {
        static private {
            const SECRET = "xyz";
            var counter = 0;
        }

        static public {
            fun next() {
                Config.counter = Config.counter + 1;
                return Config.counter;
            }
        }
    }

    print(Config.next());
    print(Config.next());
}


// --- Invalid Examples ---

// Error: Modifiers on members
// class A {
//   private static var x;
// }

// Error: Accessing instance member in static context
// class B {
//   var x;
//
//   static {
//     fun foo() {
//       return x;
//     }
//   }
// }

// Error: 'init' in static block
// class C {
//   static {
//     init() {}
//   }
// }

// Error: Accessing 'this' in static context
// class D {
//   static {
//     fun foo() {
//       return this;
//     }
//   }
// }
